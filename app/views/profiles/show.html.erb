<div class="max-w-4xl mx-auto p-6">
  <div class="flex gap-6">
 
       <%= render "settings" %>

       <%= render "account", profile: @profile%>

      <% if current_user.client? %>

       <%= render "company_details", profile: @profile%>
  
       <%= render "company_contact", profile: @profile%>
     
      <% end %>

      <% if current_user.freelancer? %>

       <%= render "education", profile: @profile%>
    





    <!-- Skill Card -->


<div
  data-controller="skill"
  class="bg-white border border-gray-200 rounded-xl p-6 mb-6 relative">

  <!-- Edit Button -->
  <button
    type="button"
    data-action="click->skill#edit"
    class="absolute top-6 right-6 w-9 h-9 rounded-full border-2 border-green-600
           flex items-center justify-center hover:bg-green-50 transition">
    âœŽ
  </button>

  <h2 class="text-lg font-semibold text-gray-900 mb-6">Skills</h2>

  <div class="flex items-start gap-8">

    <!-- VIEW MODE -->
    <div data-skill-target="view" class="flex-1">
      <div class="flex flex-wrap gap-2">
        <% if @profile.skills.present? && @profile.skills.any? %>
          <% @profile.skills.each do |skill| %>
            <span class="px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full">
              <%= skill %>
            </span>
          <% end %>
        <% else %>
          <p class="text-sm text-gray-500">No skills added yet</p>
        <% end %>
      </div>
    </div>

    <!-- EDIT MODE -->
    <div data-skill-target="edit" class="hidden flex-1">
      <%= form_with model: @profile, url: profile_path(@profile), method: :patch, local: true do |f| %>

        <div class="mb-4">
          <%= f.label :skills, "Skills (comma separated)", class: "text-sm text-gray-500 block mb-1" %>
          <%= f.text_area :skills,
                value: @profile.skills&.join(', '),
                rows: 3,
                placeholder: "e.g. Ruby on Rails, JavaScript, PostgreSQL",
                class: "w-full border border-gray-300 rounded-lg px-3 py-2 
                        focus:ring-2 focus:ring-green-200 focus:border-green-500 
                        outline-none transition" %>
          <p class="text-xs text-gray-500 mt-1">Separate multiple skills with commas</p>
        </div>

        <div class="flex gap-3">
          <button
            type="button"
            data-action="click->skill#cancel"
            class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">
            Cancel
          </button>

          <%= f.submit "Save",
                class: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition cursor-pointer" %>
        </div>

      <% end %>
    </div>

  </div>
</div>

       <%= render "experience", profile: @profile%>




 

      
  <% end %>
       



      <%= render "client_account_card" %>
      <%= render "ai_preference_card" %>

    </div>
  </div>
</div>
