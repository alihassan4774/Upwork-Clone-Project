<div class="bg-white rounded-lg shadow p-6 mb-4">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-semibold">Account</h2>
    
    <% if @editing_section == 'account' %>
      <%= link_to "âŒ", profile_path, class: "text-gray-600 hover:text-gray-800" %>
    <% else %>
      <%= link_to "âœï¸", profile_path(edit_section: 'account'), class: "text-green-600 hover:text-green-700" %>
    <% end %>
  </div>
  
  <% if @editing_section == 'account' %>
    <!-- EDIT MODE -->
    <%= form_with model: current_user, url: profile_path, method: :patch, local: true do |f| %>
      <%= hidden_field_tag :edit_section, 'account' %>
      
      <div class="mb-3">
        <%= f.label :email, "Email", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.email_field :email, class: "w-full border border-gray-300 rounded-md px-3 py-2" %>
      </div>
      
      <div class="flex justify-end gap-2">
        <%= f.submit "ðŸ’¾ Save", class: "bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700" %>
        <%= link_to "Cancel", profile_path, class: "bg-gray-200 px-4 py-2 rounded-md" %>
      </div>
    <% end %>
  <% else %>
    <!-- VIEW MODE -->
    <div class="flex items-center gap-4">
      <div class="w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center text-xl font-bold">
        <%= current_user.email.first.upcase %>
      </div>
      <div>
        <p class="font-semibold"><%= current_user.name || current_user.email.split('@').first %></p>
        <p class="text-sm text-gray-600"><%= current_user.email %></p>
      </div>
    </div>
  <% end %>
</div>