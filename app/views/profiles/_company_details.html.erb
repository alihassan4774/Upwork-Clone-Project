<div class="bg-white rounded-lg shadow p-6 mb-4">
  <!-- Header -->
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-semibold">Company details</h2>
    
    <% if @editing_section == 'company_details' %>
      <%= link_to "âŒ", profile_path, class: "text-gray-600 hover:text-gray-800" %>
    <% else %>
      <%= link_to "âœï¸", profile_path(edit_section: 'company_details'), class: "text-green-600 hover:text-green-700" %>
    <% end %>
  </div>
  
  <!-- Check: Sirf yeh card edit ho raha hai? -->
  <% if @editing_section == 'company_details' %>
    
    <!-- EDIT MODE: Form dikha do -->
    <%= form_with model: @profile, url: profile_path, method: :patch, local: true do |f| %>
      <%= hidden_field_tag :edit_section, 'company_details' %>
      
      <div class="mb-4">
        <%= f.label :company_name, "Company Name", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :company_name, class: "w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500" %>
      </div>
      
      <div class="mb-4">
        <%= f.label :size, "Size", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :size, placeholder: "e.g., It's just me", class: "w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500" %>
      </div>
      
      <div class="mb-4">
        <%= f.label :bio, "Bio", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_area :bio, rows: 3, class: "w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500" %>
      </div>
      
      <div class="flex justify-end gap-2">
        <%= f.submit "ğŸ’¾ Save", class: "bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 cursor-pointer" %>
        <%= link_to "Cancel", profile_path, class: "bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300" %>
      </div>
    <% end %>
    
  <% else %>
    
    <!-- VIEW MODE: Data dikha do -->
    <div class="flex items-start gap-4">
      <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-xl font-bold text-gray-600">
        <%= @profile.company_name&.first&.upcase || '?' %>
      </div>
      
      <div>
        <p class="font-semibold text-gray-900"><%= @profile.company_name.presence || 'Not set' %></p>
        <p class="text-sm text-gray-600"><%= @profile.size.presence || 'Not set' %></p>
        <% if @profile.bio.present? %>
          <p class="text-sm text-gray-500 mt-1"><%= @profile.bio %></p>
        <% end %>
      </div>
    </div>
    
  <% end %>
</div>